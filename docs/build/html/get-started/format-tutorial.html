

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial: Formatting PLEXOS modelling results &mdash; Marmot 0.9.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial: Creating Plots and Data-Tables" href="plot-tutorial.html" />
    <link rel="prev" title="Install the Marmot software" href="install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Marmot
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Get Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html">Install the Marmot software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#install-system-packages">Install system packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#clone-the-marmot-repository">Clone the Marmot repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#set-up-a-conda-environment">Set up a conda environment</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tutorial: Formatting PLEXOS modelling results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#your-input-data-and-how-to-organize-it">Your input data and how to organize it</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-the-input-files">Setting up the input files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#marmot-user-defined-input">Marmot_user_defined_input</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plexos-properties">plexos_properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-formatter">Running the formatter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plot-tutorial.html">Tutorial: Creating Plots and Data-Tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/index.html">How-to Guides</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plot-gallery/index.html">Plotting Examples Gallery</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../references/input-files/files.html">Input File Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../references/input-files/Marmot_user_defined_inputs.html">Marmot_user_defined_inputs: csv file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/input-files/plexos_properties.html">plexos_properties: csv file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/input-files/Marmot_plot_select.html">Marmot_plot_select: csv file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/input-files/mapping-folder/index.html">Mapping Folder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/input-files/mapping-folder/gen_names.html">gen_names: csv file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/input-files/mapping-folder/ordered_gen_categories.html">ordered_gen_categories: csv file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/input-files/mapping-folder/emit_names.html">emit_names: csv file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/input-files/mapping-folder/colour_dictionary.html">colour_dictionary: csv file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/input-files/mapping-folder/region_mapping.html">region_mapping: csv file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../references/code/modules.html">Code Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../references/code/modules.html#initialization-code">Initialization Code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.marmot_h5_formatter.html">marmot.marmot_h5_formatter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.marmot_plot_main.html">marmot.marmot_plot_main</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.meta_data.html">marmot.meta_data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/code/modules.html#config-package">Config Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.config.mconfig.html">marmot.config.mconfig</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/code/modules.html#plotting-modules-package">Plotting Modules Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.capacity_factor.html">marmot.plottingmodules.capacity_factor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.capacity_out.html">marmot.plottingmodules.capacity_out</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.curtailment.html">marmot.plottingmodules.curtailment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.emissions.html">marmot.plottingmodules.emissions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.generation_stack.html">marmot.plottingmodules.generation_stack</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.generation_unstack.html">marmot.plottingmodules.generation_unstack</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.hydro.html">marmot.plottingmodules.hydro</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.prices.html">marmot.plottingmodules.prices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.production_cost.html">marmot.plottingmodules.production_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.ramping.html">marmot.plottingmodules.ramping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.reserves.html">marmot.plottingmodules.reserves</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.sensitivities.html">marmot.plottingmodules.sensitivities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.storage.html">marmot.plottingmodules.storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.thermal_cap_reserve.html">marmot.plottingmodules.thermal_cap_reserve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.thermal_cap_reserve.html">marmot.plottingmodules.thermal_cap_reserve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.total_generation.html">marmot.plottingmodules.total_generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.total_installed_capacity.html">marmot.plottingmodules.total_installed_capacity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.transmission.html">marmot.plottingmodules.transmission</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.unserved_energy.html">marmot.plottingmodules.unserved_energy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.utilization_factor.html">marmot.plottingmodules.utilization_factor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/code/modules.html#plot-utility-package">Plot Utility Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.plotutils.plot_data_helper.html">marmot.plottingmodules.plotutils.plot_data_helper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.plotutils.plot_exceptions.html">marmot.plottingmodules.plotutils.plot_exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/code/_autosummary/marmot.plottingmodules.plotutils.plot_library.html">marmot.plottingmodules.plotutils.plot_library</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Marmot</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Get Started</a> &raquo;</li>
        
      <li>Tutorial: Formatting PLEXOS modelling results</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/get-started/format-tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <style>
    h2  {border-bottom: 1px solid gray;}
</style><div class="section" id="tutorial-formatting-plexos-modelling-results">
<h1>Tutorial: Formatting PLEXOS modelling results<a class="headerlink" href="#tutorial-formatting-plexos-modelling-results" title="Permalink to this headline">¶</a></h1>
<p>This is an introductory tutorial on formatting PLEXOS modelling results with Marmot.
It assumes your are familiar with the PLEXOS production cost modelling software.
By the end of this tutorial you will have completed the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Set up your input data folders.</p></li>
<li><p>Set up the user input files required for formatting.</p></li>
<li><p>Run the formatter and created Marmot formatted h5 files.</p></li>
</ol>
</div></blockquote>
<p><strong>Before you do anything else</strong>, make sure you have installed Marmot and its prerequisites correctly
by following the <a class="reference internal" href="install.html#install-the-marmot-software"><span class="std std-ref">Install the Marmot software</span></a> instructions.</p>
<div class="section" id="your-input-data-and-how-to-organize-it">
<h2>Your input data and how to organize it<a class="headerlink" href="#your-input-data-and-how-to-organize-it" title="Permalink to this headline">¶</a></h2>
<p>For this tutorial we will use example data located in the
<a class="reference external" href="https://github.com/NREL/Marmot/tree/sphinx-docs/example-data">Marmot/example-data</a> folder.
This folder contains two sets of example data, 5 minute and hourly.
We will work with the hourly data.</p>
<p>Copy the <strong>hourly</strong> folder to a directory of your choosing.
Once you open the hourly data folder you will see the following sub-folders:</p>
<img alt="../_images/hourly-data-folder.png" src="../_images/hourly-data-folder.png" />
<p><strong>Base DA</strong> and <strong>High VG DA</strong> contain data that are grouped together under the same scenario.
The name of the folder is the <em>scenario name</em> and is an important identifier in Marmot.
Depending on how a user has setup their PLEXOS model, this folder should contain 1 or more files that are
temporally disaggregated.</p>
<img alt="../_images/h5-files.png" src="../_images/h5-files.png" />
<p>These scenario folders contain two files each, broken into monthly data sets.
The files are h5 files and are what the Marmot formatter expects as an input.
See <a class="reference external" href="https://github.com/NREL/h5plexos">h5plexos</a> for an explanation on how these files are created.</p>
</div>
<div class="section" id="setting-up-the-input-files">
<h2>Setting up the input files<a class="headerlink" href="#setting-up-the-input-files" title="Permalink to this headline">¶</a></h2>
<p>To let Marmot know where our data is stored and which properties we would like to process,
we need to setup our input files.</p>
<div class="section" id="marmot-user-defined-input">
<h3>Marmot_user_defined_input<a class="headerlink" href="#marmot-user-defined-input" title="Permalink to this headline">¶</a></h3>
<p>The first file you should setup is the <a class="reference internal" href="../references/input-files/Marmot_user_defined_inputs.html#marmot-user-defined-inputs-csv-file"><span class="std std-ref">Marmot_user_defined_inputs: csv file</span></a>. This file is located in the
<a class="reference external" href="https://github.com/NREL/Marmot/tree/main/marmot">Marmot/marmot</a> directory.
If you open the file in a spreadsheet programme such as MS Excel you will see the following structure:</p>
<img alt="../_images/user-defined-inputs.jpg" src="../_images/user-defined-inputs.jpg" />
<p>The file has 4 columns, with column <strong>D</strong> used for adjusting input. For this tutorial we will focus on the following rows,
for a more comprehensive look at this file see our How-to Guides and
<a class="reference internal" href="../references/input-files/Marmot_user_defined_inputs.html"><span class="doc">Input File References sections</span></a></p>
<img alt="../_images/user-defined-inputs-format.png" src="../_images/user-defined-inputs-format.png" />
<p>The first two rows define where our input files are saved and where to save our outputs. The <strong>PLEXOS_Solutions_folder</strong>
should point to the root of our <em>scenario name</em> folders described above. For our data this is the <strong>hourly</strong> folder we setup earlier.</p>
<p>The <strong>Marmot_Solutions_folder</strong> allows you to save the outputs from the formatter and plotter in a different location to
the input files. For this tutorial we will save our outputs in the same location as our inputs.</p>
<p><strong>Scenario_process_list</strong> identifies the scenarios we want to process with the formatter. This would correspond to the
<em>scenario name</em> folders within the the <strong>hourly</strong> folder, <strong>Base DA</strong> and <strong>High VG DA</strong>. Multiple scenarios should be comma separated.</p>
<p>Setup the 3 rows using your inputs, they should look something like this when you’re finished:</p>
<img alt="../_images/user-defined-inputs-format-values.png" src="../_images/user-defined-inputs-format-values.png" />
</div>
<div class="section" id="plexos-properties">
<h3>plexos_properties<a class="headerlink" href="#plexos-properties" title="Permalink to this headline">¶</a></h3>
<p>Next we will setup the <a class="reference internal" href="../references/input-files/plexos_properties.html#plexos-properties-csv-file"><span class="std std-ref">plexos_properties: csv file</span></a>. This file is also located in the
<a class="reference external" href="https://github.com/NREL/Marmot/tree/main/marmot">Marmot/marmot</a> directory. This file specifies which properties we want to
processes with Marmot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Marmot to process a property it must have been included in your PLEXOS report output.</p>
</div>
<p>When you open the file you will see the following structure:</p>
<img alt="../_images/plexos-properties-example.png" src="../_images/plexos-properties-example.png" />
<p>The file has 5 columns, columns <strong>B</strong> and <strong>C</strong> specify the type of property to process. Column <strong>D</strong> accepts TRUE/FALSE values
used to determine whether Marmot should process the specified property. For a more comprehensive look at this file see our How-to Guides and
<a class="reference internal" href="../references/input-files/plexos_properties.html"><span class="doc">Input File References sections</span></a></p>
<p>Set all the values in column D to False except the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>generator Available Capacity</p></li>
<li><p>generator Generation</p></li>
<li><p>generator Pump Load</p></li>
<li><p>generator Installed Capacity</p></li>
<li><p>region Load</p></li>
</ul>
</div></blockquote>
<p>Marmot will now know to process these properties.</p>
<img alt="../_images/plexos-properties-tut-props.png" src="../_images/plexos-properties-tut-props.png" />
</div>
</div>
<div class="section" id="running-the-formatter">
<h2>Running the formatter<a class="headerlink" href="#running-the-formatter" title="Permalink to this headline">¶</a></h2>
<p>With the input files setup, we are now ready to process our selected properties.
Open a terminal that is setup with Python and conda such as Anaconda prompt and change directory
to the <code class="docutils literal notranslate"><span class="pre">Marmot\marmot</span></code> repository folder using the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command like the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">E</span><span class="p">:</span>\<span class="n">Marmot</span>\<span class="n">marmot</span>
</pre></div>
</div>
<p>Next activate the marmot-env:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">marmot</span><span class="o">-</span><span class="n">env</span>
</pre></div>
</div>
<p>Finally initiate the formatter using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">.</span>\<span class="n">marmot_h5_formatter</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Marmot will now begin formatting your properties and will print messages to the terminal.
Once completed the formatted outputs will be located in a new folder called <strong>Processed_HDF5_folder</strong>
within the <strong>hourly</strong> data folder. When you open this folder you will see the following h5 files:</p>
<img alt="../_images/processed-h5-files.png" src="../_images/processed-h5-files.png" />
<p>Congratulations, you have successfully formatted PLEXOS results with Marmot and are now ready to plot.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="plot-tutorial.html" class="btn btn-neutral float-right" title="Tutorial: Creating Plots and Data-Tables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral float-left" title="Install the Marmot software" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Alliance for Sustainable Energy, LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>