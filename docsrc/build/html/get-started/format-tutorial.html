
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Tutorial: Formatting PLEXOS modelling results &#8212; Marmot 0.10.0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial: Creating plots and data-tables" href="plot-tutorial.html" />
    <link rel="prev" title="Install the Marmot software" href="install.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Marmot</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../how-to/index.html">
  How-to Guides
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../plot-gallery/index.html">
  Plotting Examples Gallery
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../references/input-files/files.html">
  Input File Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../references/code/modules.html">
  Code Reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/NREL/Marmot" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="install.html">
   Install the Marmot software
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Tutorial: Formatting PLEXOS modelling results
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="plot-tutorial.html">
   Tutorial: Creating plots and data-tables
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#your-input-data-and-how-to-organize-it">
   Your input data and how to organize it
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-up-the-input-files">
   Setting up the input files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#marmot-user-defined-input">
     Marmot_user_defined_input
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plexos-properties">
     plexos_properties
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-formatter">
   Running the formatter
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
   <style>
     h2  {border-bottom: 1px solid gray;}
 </style>

<script>
   var arr = document.getElementsByClassName('reference internal');
   for(var i = 0; i < arr.length; i++) {
   arr[i].innerHTML = arr[i].innerHTML.replace(/\./g, '.<wbr/>');
   }
</script><section id="tutorial-formatting-plexos-modelling-results">
<h1>Tutorial: Formatting PLEXOS modelling results<a class="headerlink" href="#tutorial-formatting-plexos-modelling-results" title="Permalink to this headline">#</a></h1>
<p>This is an introductory tutorial on formatting PLEXOS modelling results with Marmot.
It assumes your are familiar with the PLEXOS production cost modelling software.
By the end of this tutorial, you will have completed the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Set up your input data folders.</p></li>
<li><p>Set up the user input files required for formatting.</p></li>
<li><p>Run the formatter and created Marmot formatted h5 files.</p></li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Before you do anything else</strong>, make sure you have installed Marmot and its prerequisites correctly
by following the <a class="reference internal" href="install.html#install-the-marmot-software"><span class="std std-ref">Install the Marmot software</span></a> instructions.</p>
</div>
<section id="your-input-data-and-how-to-organize-it">
<h2>Your input data and how to organize it<a class="headerlink" href="#your-input-data-and-how-to-organize-it" title="Permalink to this headline">#</a></h2>
<p>For this tutorial we will use example data located in the
<a class="reference external" href="https://github.com/NREL/Marmot/tree/sphinx-docs/example-data">Marmot/example-data</a> folder.
This folder contains two sets of example data, 5 minute and hourly.
We will work with the hourly data.</p>
<p>Copy the <strong>hourly</strong> folder to a directory of your choosing.
Once you open the hourly data folder you will see the following sub-folders:</p>
<img alt="../_images/hourly-data-folder.png" src="../_images/hourly-data-folder.png" />
<p><strong>Base DA</strong> and <strong>High VG DA</strong> contain data that are grouped together under the same scenario.
The name of the folder is the <em>scenario name</em> and is an important identifier in Marmot.
Depending on how a user has setup their PLEXOS model, this folder should contain 1 or more files that are
temporally disaggregated.</p>
<img alt="../_images/h5-files.png" src="../_images/h5-files.png" />
<p>These scenario folders contain two files each, broken into monthly data sets.
The files are h5 files and are what the Marmot formatter expects as an input.
See <a class="reference external" href="https://github.com/NREL/h5plexos">h5plexos</a> for an explanation on how these files are created.</p>
</section>
<section id="setting-up-the-input-files">
<h2>Setting up the input files<a class="headerlink" href="#setting-up-the-input-files" title="Permalink to this headline">#</a></h2>
<p>To let Marmot know where our data is stored and which properties we would like to process,
we need to setup our input files.</p>
<section id="marmot-user-defined-input">
<h3>Marmot_user_defined_input<a class="headerlink" href="#marmot-user-defined-input" title="Permalink to this headline">#</a></h3>
<p>The first file you should setup is the <a class="reference internal" href="../references/input-files/Marmot_user_defined_inputs.html#marmot-user-defined-inputs-csv-file"><span class="std std-ref">Marmot_user_defined_inputs: csv file</span></a>. This file is located in the
<a class="reference external" href="https://github.com/NREL/Marmot/tree/main/marmot/input_files">Marmot/marmot/input_files</a> directory.
If you open the file in a spreadsheet programme such as MS Excel you will see the following structure:</p>
<img alt="../_images/user-defined-inputs.jpg" src="../_images/user-defined-inputs.jpg" />
<p>The file has 4 columns, with column <strong>D</strong> used for adjusting input. For this tutorial we will focus on the following rows,
for a more comprehensive look at this file see our How-to Guides and
<a class="reference internal" href="../references/input-files/Marmot_user_defined_inputs.html"><span class="doc">Input File References sections</span></a></p>
<img alt="../_images/user-defined-inputs-format.png" src="../_images/user-defined-inputs-format.png" />
<p>The first two rows define where our input files are saved and where to save our outputs. The <strong>PLEXOS_Solutions_folder</strong>
should point to the root of our <em>scenario name</em> folders described above. For our data this is the <strong>hourly</strong> folder we setup earlier.</p>
<p>The <strong>Marmot_Solutions_folder</strong> allows you to save the outputs from the formatter and plotter in a different location to
the input files. For this tutorial we will save our outputs in the same location as our inputs.</p>
<p><strong>Scenario_process_list</strong> identifies the scenarios we want to process with the formatter. This corresponds to the
<em>scenario name</em> folders within the the <strong>hourly</strong> folder, <strong>Base DA</strong> and <strong>High VG DA</strong>. Multiple scenarios should be comma separated.</p>
<p>Setup the 3 rows using your inputs, they should look something like this when you’re finished:</p>
<img alt="../_images/user-defined-inputs-format-values.png" src="../_images/user-defined-inputs-format-values.png" />
</section>
<section id="plexos-properties">
<h3>plexos_properties<a class="headerlink" href="#plexos-properties" title="Permalink to this headline">#</a></h3>
<p>Next we will setup the <a class="reference internal" href="../references/input-files/plexos_properties.html#plexos-properties-csv-file"><span class="std std-ref">plexos_properties: csv file</span></a>. This file is also located in the
<a class="reference external" href="https://github.com/NREL/Marmot/tree/main/marmot/input_files">Marmot/marmot</a> directory. This file specifies which properties we want to
processes with Marmot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Marmot to process a property it must have been included in your PLEXOS report output.</p>
</div>
<p>When you open the file you will see the following structure:</p>
<img alt="../_images/plexos-properties-example.png" src="../_images/plexos-properties-example.png" />
<p>The file has 5 columns, columns <strong>B</strong> and <strong>C</strong> specify the type of property to process. Column <strong>D</strong> accepts TRUE/FALSE values
used to determine whether Marmot should process the specified property. For a more comprehensive look at this file see our How-to Guides and
<a class="reference internal" href="../references/input-files/plexos_properties.html"><span class="doc">Input File References sections</span></a></p>
<p>Set all the values in column D to False except the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>generator Available Capacity</p></li>
<li><p>generator Generation</p></li>
<li><p>generator Pump Load</p></li>
<li><p>generator Installed Capacity</p></li>
<li><p>region Load</p></li>
</ul>
</div></blockquote>
<p>Marmot will now know to process these properties.</p>
<img alt="../_images/plexos-properties-tut-props.png" src="../_images/plexos-properties-tut-props.png" />
</section>
</section>
<section id="running-the-formatter">
<h2>Running the formatter<a class="headerlink" href="#running-the-formatter" title="Permalink to this headline">#</a></h2>
<p>With the input files setup, we are now ready to process our selected properties.
Open a terminal that is setup with Python and conda such as Anaconda prompt and change directory
to the <code class="docutils literal notranslate"><span class="pre">Marmot\bin</span></code> repository folder using the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command like the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">E</span><span class="p">:</span>\<span class="n">Marmot</span>\<span class="nb">bin</span>
</pre></div>
</div>
<p>Next activate the marmot-env:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">marmot</span><span class="o">-</span><span class="n">env10</span>
</pre></div>
</div>
<p>Finally initiate the formatter using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">run_marmot_formatter</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Marmot will now begin formatting your properties and will print messages to the terminal.
Once completed the formatted outputs will be located in a new folder called <strong>Processed_HDF5_folder</strong>
within the <strong>hourly</strong> data folder. When you open this folder you will see the following h5 files:</p>
<img alt="../_images/processed-h5-files.png" src="../_images/processed-h5-files.png" />
<p>Congratulations, you have successfully formatted PLEXOS results with Marmot and are now ready to plot.</p>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="install.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Install the Marmot software</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="plot-tutorial.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tutorial: Creating plots and data-tables</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, Alliance for Sustainable Energy, LLC.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>